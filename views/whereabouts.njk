{% extends "./partials/layout.njk" %}

{% from "govuk/components/button/macro.njk" import govukButton %} 

 {% block beforeContent %}
  {{ govukBreadcrumbs({
  items: [
    {
      text: "Home",
      href: "/"
    },
    {
      text: "Search prisoner whereabouts",
      href: "/search-prisoner-whereabouts"
    },
    {
      text: "Statistics: Attendance Reasons"
    }
  ]
}) 
}}
{% endblock %}

{% block content %}

{% set urlParams = '/whereabouts?agencyId=' + caseLoadId + '&period=AM&date=2019-08-23'%}

<h1 class="govuk-heading-l mainHeading">Statistics: Attendance Reasons</h1> - {{newValue}}
<form action="/whereabouts">
<div class="govuk-grid-row govuk-section-break--l">
  <input type="hidden" name="agencyId" value="{{caseLoadId}}" />
  <div class="govuk-grid-column-one-quarter">
    {% include "./components/datePicker.njk" %}
  </div>
  <div class="govuk-grid-column-one-quarter">
    {% include "./components/periodSelect.njk" %}
  </div>
</div>
<div class="govuk-grid-row govuk-section-break--l">
  <div class="govuk-grid-column-one-quarter">
    {{
        govukButton({
          type: submit,
          text: 'Update',
          classes: 'govuk-button'
        })
      }}
  </div>
</div>
</form>
<hr>
<h2 class="govuk-heading-m">Paid reasons</h2>
<div class="govuk-grid-row govuk-section-break--l">
  <div class="govuk-grid-column-one-quarter">
    <p class="govuk-body">Attended</p>
    <h2 class="govuk-fieldset__legend--l">{{data.attended}}</h2>
  </div>
  {% for reason in absenceReasons.paidReasons %}
    <div class="govuk-grid-column-one-quarter">
      <p class="govuk-body">{{reason}}</p>
      <span class="govuk-heading-l">{{data[reason.toLowerCase()]}}</span>
    </div>
   {% endfor %}
</div>

<hr>
<h2 class="govuk-heading-m">Not paid reasons</h2>

<div class="govuk-grid-row govuk-section-break--l">
  {% for reason in absenceReasons.unpaidReasons %}
    <div class="govuk-grid-column-one-quarter">
      <p class="govuk-body">{{reason}}</p>
      <h2 class="govuk-fieldset__legend--l">{{data[reason.toLowerCase()]}}</h2>
    </div>
  {% endfor %}
</div>

<hr>
<h2 class="govuk-heading-m">Not recorded</h2>

<div class="govuk-grid-row govuk-section-break--l">
  <div class="govuk-grid-column-one-quarter">
    <p class="govuk-body">Missing</p>
    <h2 class="govuk-fieldset__legend--l">{{data.missing}}</h2>
  </div>
</div>


{% endblock %}